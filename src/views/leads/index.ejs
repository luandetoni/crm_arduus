<div class="dashboard">
    <%- include('../partials/sidebar') %>
    
    <div class="main-content">
        <%- include('../partials/header') %>
        
        <div class="content">
            <div class="d-flex align-center justify-between mb-20">
                <h1 class="page-title">Leads</h1>
                <div>
                    <a href="/leads/new" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Novo Lead
                    </a>
                </div>
            </div>
            
            <div class="card mb-20">
                <div class="card-header">
                    <h3 class="card-title">Filtros</h3>
                </div>
                <div class="card-body">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="searchFilter" class="form-label">Buscar</label>
                                <input type="text" id="searchFilter" class="form-control" placeholder="Nome, email, empresa...">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="statusFilter" class="form-label">Status</label>
                                <select id="statusFilter" class="form-control">
                                    <option value="">Todos</option>
                                    <option value="novo">Novo</option>
                                    <option value="contatado">Contatado</option>
                                    <option value="qualificado">Qualificado</option>
                                    <option value="não-qualificado">Não Qualificado</option>
                                    <option value="convertido">Convertido</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="sourceFilter" class="form-label">Origem</label>
                                <select id="sourceFilter" class="form-control">
                                    <option value="">Todas</option>
                                    <option value="indicação">Indicação</option>
                                    <option value="website">Website</option>
                                    <option value="mídia social">Mídia Social</option>
                                    <option value="mailing">Mailing</option>
                                    <option value="evento">Evento</option>
                                    <option value="publicidade">Publicidade</option>
                                    <option value="outros">Outros</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label class="form-label">&nbsp;</label>
                                <button id="filterButton" class="btn btn-primary btn-block">Filtrar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Lista de Leads</h3>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table" id="leadsTable">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Telefone</th>
                                    <th>Empresa</th>
                                    <th>Status</th>
                                    <th>Próx. Contato</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Carlos Oliveira</td>
                                    <td>carlos.oliveira@example.com</td>
                                    <td>(11) 96666-7777</td>
                                    <td>Oliveira Imports</td>
                                    <td><span class="status active">Novo</span></td>
                                    <td>01/06/2025</td>
                                    <td class="actions">
                                        <a href="/leads/1" class="btn-icon"><i class="fas fa-eye"></i></a>
                                        <a href="/leads/1/edit" class="btn-icon"><i class="fas fa-edit"></i></a>
                                        <a href="#" class="btn-icon delete-lead" data-id="1"><i class="fas fa-trash"></i></a>
                                        <a href="#" class="btn-icon convert-lead" data-id="1" title="Converter para Cliente"><i class="fas fa-user-check"></i></a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Fernanda Lima</td>
                                    <td>fernanda.lima@example.com</td>
                                    <td>(21) 98765-1234</td>
                                    <td>Lima Consultoria</td>
                                    <td><span class="status pending">Contatado</span></td>
                                    <td>05/06/2025</td>
                                    <td class="actions">
                                        <a href="/leads/2" class="btn-icon"><i class="fas fa-eye"></i></a>
                                        <a href="/leads/2/edit" class="btn-icon"><i class="fas fa-edit"></i></a>
                                        <a href="#" class="btn-icon delete-lead" data-id="2"><i class="fas fa-trash"></i></a>
                                        <a href="#" class="btn-icon convert-lead" data-id="2" title="Converter para Cliente"><i class="fas fa-user-check"></i></a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Ricardo Santos</td>
                                    <td>ricardo.santos@example.com</td>
                                    <td>(31) 99988-7766</td>
                                    <td>-</td>
                                    <td><span class="status active">Qualificado</span></td>
                                    <td>02/06/2025</td>
                                    <td class="actions">
                                        <a href="/leads/3" class="btn-icon"><i class="fas fa-eye"></i></a>
                                        <a href="/leads/3/edit" class="btn-icon"><i class="fas fa-edit"></i></a>
                                        <a href="#" class="btn-icon delete-lead" data-id="3"><i class="fas fa-trash"></i></a>
                                        <a href="#" class="btn-icon convert-lead" data-id="3" title="Converter para Cliente"><i class="fas fa-user-check"></i></a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="d-flex justify-between align-center mt-20">
                        <div>
                            Mostrando 1-3 de 3 registros
                        </div>
                        <div class="pagination">
                            <button class="btn btn-primary" disabled>Anterior</button>
                            <button class="btn btn-primary" disabled>Próximo</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        // Filtrar leads
        $('#filterButton').click(function() {
            // Em uma aplicação real, isso faria uma requisição à API
            // Por enquanto, apenas um log
            console.log('Filtrando leads...');
            
            const filters = {
                search: $('#searchFilter').val(),
                status: $('#statusFilter').val(),
                source: $('#sourceFilter').val()
            };
            
            console.log('Filtros:', filters);
            
            // Aqui faria a chamada à API e atualizaria a tabela
        });
        
        // Excluir lead
        $('.delete-lead').click(function(e) {
            e.preventDefault();
            
            if (confirm('Tem certeza que deseja excluir este lead?')) {
                const leadId = $(this).data('id');
                console.log('Excluindo lead ID:', leadId);
                
                // Aqui faria a chamada à API para excluir
            }
        });
        
        // Converter lead
        $('.convert-lead').click(function(e) {
            e.preventDefault();
            
            if (confirm('Tem certeza que deseja converter este lead para cliente?')) {
                const leadId = $(this).data('id');
                console.log('Convertendo lead ID:', leadId);
                
                // Aqui faria a chamada à API para converter
            }
        });
    });
</script>